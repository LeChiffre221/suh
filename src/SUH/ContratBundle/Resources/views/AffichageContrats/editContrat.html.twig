{% extends "SUHContratBundle:AffichageContrats:accueil.html.twig" %}




    {% block menuright %}
        {% include "SUHContratBundle:AffichageContrats:menuEtudiantAidant.html.twig" %}
    {% endblock %}

    {% block titleright %}
        <p class="">Liste des contrats</p>
    {% endblock %}

    {% block bodyright %}
    <div class="col-md-12 container-contrat">
        {% for message in app.session.flashbag.get('notice') %}
            <div class="alert alert-success">
                <strong>Succès !</strong> Le contrat a été créé.
            </div>
        {% endfor %}

        <div class="bloc-contrat panel panel-primary">
            {{ form_start(form, {'attr': {'class': 'form-horizontal '}}) }}

            {# Les erreurs générales du formulaire. #}
            {{ form_errors(form) }}

            <div class="form-group">
                {# Génération du label. #}
                {{ form_label(form.natureContrat, "Nature du contrat : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

                {# Affichage des erreurs pour ce champ précis. #}
                {{ form_errors(form.natureContrat) }}

                <div class="col-sm-4">
                    {# Génération de l'input. #}
                    {{ form_widget(form.natureContrat, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            {# Idem pour un autre champ. #}
            <div class="form-group">
                {{ form_label(form.nbHeureInitiales, "Nombre d'heures initiales : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                {{ form_errors(form.nbHeureInitiales) }}
                <div class="col-sm-1">
                    {{ form_widget(form.nbHeureInitiales, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.dateDebutContrat, "Date de début du contrat : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                {{ form_errors(form.dateDebutContrat) }}
                <div class="col-sm-3">
                    {{ form_widget(form.dateDebutContrat,  {'attr': {'class': 'form-control date' }}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.dateFinContrat, "Date de fin du contrat : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                {{ form_errors(form.dateFinContrat) }}
                <div class="col-sm-3">
                    {{ form_widget(form.dateFinContrat, {'attr': {'class': 'form-control date'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.semestreConcerne, "Semestre concerné [1/2] : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                {{ form_errors(form.semestreConcerne) }}
                <div class="col-sm-1">
                    {{ form_widget(form.semestreConcerne, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            {% if form.dateEnvoiDRH is defined %}
                <div class="form-group">
                    {{ form_label(form.dateEnvoiDRH, "Date d'envoi du contrat à la DRH : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                    {{ form_errors(form.dateEnvoiDRH) }}
                    <div class="col-sm-3">
                        {{ form_widget(form.dateEnvoiDRH, {'attr': {'class': 'form-control date'}}) }}
                    </div>
                </div>
            {% endif %}

            {% if form.dateEnvoiEtudiant is defined %}
                <div class="form-group">
                    {{ form_label(form.dateEnvoiEtudiant, "Date d'envoi du contrat à l'étudiant : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                    {{ form_errors(form.dateEnvoiEtudiant) }}
                    <div class="col-sm-3">
                        {{ form_widget(form.dateEnvoiEtudiant,{'attr': {'class': 'form-control date'}}) }}
                    </div>
                </div>
            {% endif %}

            {% if form.dateEnvoiAvenantDRH is defined %}
                <div class="form-group">
                    {{ form_label(form.dateEnvoiAvenantDRH, "Date d'envoi de l'avenant à la DRH : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                    {{ form_errors(form.dateEnvoiAvenantDRH) }}
                    <div class="col-sm-3">
                        {{ form_widget(form.dateEnvoiAvenantDRH, {'attr': {'class': 'form-control date'}}) }}
                    </div>
                </div>
            {% endif %}

            {% if form.dateEnvoiAvenantEtudiant is defined %}
                <div class="form-group">
                    {{ form_label(form.dateEnvoiAvenantEtudiant, "Date d'envoi de l'avenant à l'étudiant : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                    {{ form_errors(form.dateEnvoiAvenantEtudiant) }}
                    <div class="col-sm-3">
                        {{ form_widget(form.dateEnvoiAvenantEtudiant, {'attr': {'class': 'form-control date'}}) }}
                    </div>
                </div>
            {% endif %}

            <div class="form-group">

                <div class="col-sm-1 col-sm-push-3 checkbox">
                    {{ form_widget(form.etablissementAvenant, {'attr': {'class': 'form-control '}}) }}

                </div>
            </div>



            <button type="submit" class="btn btn-success col-sm-offset-3">Editer le contrat</button>
            <br>


            {# Génération automatique des champs pas encore écrits.
               Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
               et tous les champs cachés (type « hidden »). #}
            {{ form_rest(form) }}

            {# Fermeture de la balise <form> du formulaire HTML #}
            {{ form_end(form) }}
        </div>
        </div>
        </div>
        <br/><br/>
    </body>
    <script type="text/javascript">
        $(function() {

            $(function() {


                $('.date').datetimepicker({
                    format: 'DD/MM/YYYY'
                });

            });




        });

    </script>
{% endblock %}