{% extends "SUHContratBundle:AffichageContrats:accueil.html.twig" %}




    {% block menuright %}
        {% include "SUHContratBundle:AffichageContrats:menuEtudiantAidant.html.twig" %}
    {% endblock %}

    {% block titleright %}
    <p class="">Gestion heures</p>
    {% endblock %}
    {% block bodyright %}
    <div class="container-contrat col-md-12">

    {% if listeContrats is empty %}
        <br>
        <h2 class="col-lg-offset-1">
            <strong>Aucun contrat pour cet étudiant.
            <br>
            Vous pouvez consulter les
            </strong>
            <a href="{{ path("suh_contrat_showArchive", {'id' : id}) }}" style="color: #1f7e9a">contrats archivés.</a>

        </h2>
    {% endif %}
        <div class="heure">
        
            {% set  previousM = false %}            
            {% for heure in listeHeures %}
                {% if previousM !=  heure.dateAndTime| date("M") %}
                <div class="bloc-contrat panel panel-primary">
                    <div class="col-lg-12 panel-heading">
                        <span class="arrow-panel-heading glyphicon glyphicon-menu-down"></span>

                        <h3 class="panel-title titre-contrat"> {{ heure.dateAndTime| date("M") }} </h3>

                        <span class="ok-panel-heading glyphicon glyphicon-ok"></span>

                        <h3 class="panel-title titre-contrat titre-contrat-heures">
                            <span>
                            70
                            </span>
                            heure(s) 
                        </h3>
                        <h3 class="panel-title titre-contrat titre-contrat-heures heures-valides">
                            <span>10 </span>
                            heure(s) validées
                        </h3>
                    </div>
                    {% set previousM = heure.dateAndTime| date("M") %}
                    {% for heure in listeHeures %}
                        {% if previousM ==  heure.dateAndTime| date("M") %}
                            <div class="col-lg-12">
                            {{ heure.nbHeure }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

<script type="text/javascript">
    $(function() {

        $.datepicker.regional['fr'] = {clearText: 'Effacer', clearStatus: '',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        prevText: '<Préc', prevStatus: 'Voir le mois précédent',
        nextText: 'Suiv>', nextStatus: 'Voir le mois suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        monthNames: ['Janvier','Février','Mars','Avril','Mai','Juin',
        'Juillet','Août','Septembre','Octobre','Novembre','Décembre'],
        monthNamesShort: ['Jan','Fév','Mar','Avr','Mai','Jun',
        'Jul','Aoû','Sep','Oct','Nov','Déc'],
        monthStatus: 'Voir un autre mois', yearStatus: 'Voir un autre année',
        weekHeader: 'Sm', weekStatus: '',
        dayNames: ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'],
        dayNamesShort: ['Dim','Lun','Mar','Mer','Jeu','Ven','Sam'],
        dayNamesMin: ['Di','Lu','Ma','Me','Je','Ve','Sa'],
        dayStatus: 'Utiliser DD comme premier jour de la semaine', dateStatus: 'Choisir le DD, MM d',
        dateFormat: 'dd/mm/yy', firstDay: 0,
        initStatus: 'Choisir la date', isRTL: false};
        $.datepicker.setDefaults($.datepicker.regional['fr']);

        $('input[id^="dateEnvoiAvenantEtudiant"]').each(function(){
            $( this ).datepicker({
                changeMonth: true,
                changeYear: true,
                yearRange: "2000:2050",
                defaultDate: "-1y",
                dateFormat: "dd/mm/yy"
            }).datepicker("setDate", new Date());

        });








    });
</script>
{% endblock %}