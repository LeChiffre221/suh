{% extends "SUHContratBundle:AffichageContrats:accueil.html.twig" %}




    {% block menuright %}
        {% include "SUHContratBundle:AffichageContrats:menuEtudiantAidant.html.twig" %}
    {% endblock %}

    {% block titleright %}
        <p>Ajouter un contrat étudiant</p>
    {% endblock %}

    {% block bodyright %}
    <div class="col-md-12 container-contrat">
        {% for message in app.session.flashbag.get('warning') %}
            <div class="alert alert-danger">
                <strong>Attention !</strong> {{message}}
            </div>
        {% endfor %}
        <div class="bloc-contrat panel panel-primary">
            {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

            {# Les erreurs générales du formulaire. #}
            {{ form_errors(form) }}

            <div class="form-group">
                {{ form_label(form.natureContrat, "Nature du contrat : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                {{ form_errors(form.natureContrat) }}
                <div class="col-sm-3 checkbox">
                    {{ form_widget(form.natureContrat, {'attr': {'class': 'col-md-8'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.nomEtudiant, "Nom de l'étudiant suivi : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                {{ form_errors(form.nomEtudiant) }}
                <div class="col-sm-3 checkbox">
                    {{ form_widget(form.nomEtudiant, {'attr': {'class': 'col-md-8'}}) }}
                </div>
            </div>

            {# Idem pour un autre champ. #}
            <div class="form-group">
                {{ form_label(form.nbHeureInitiales, "Nombre d'heures initiales : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                {{ form_errors(form.nbHeureInitiales) }}
                <div class="col-sm-1">
                    {{ form_widget(form.nbHeureInitiales, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.dateDebutContrat, "Date de début du contrat : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                {{ form_errors(form.dateDebutContrat) }}
                <div class="col-sm-3">
                    {{ form_widget(form.dateDebutContrat, {'attr': {'class': 'form-control date'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.dateFinContrat, "Date de fin du contrat : ", {'label_attr': {'class': 'col-sm-3 control-label '}}) }}
                {{ form_errors(form.dateFinContrat) }}
                <div class="col-sm-3">
                    {{ form_widget(form.dateFinContrat, {'attr': {'class': 'form-control date'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(form.semestreConcerne, "Semestre concerné [1/2] : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                {{ form_errors(form.semestreConcerne) }}
                <div class="col-sm-1">
                    {{ form_widget(form.semestreConcerne, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>



            <button type="submit" class="btn btn-success col-sm-offset-3">Ajouter le contrat</button>
            <br>


            {# Génération automatique des champs pas encore écrits.
               Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
               et tous les champs cachés (type « hidden »). #}
            {{ form_rest(form) }}

            {# Fermeture de la balise form du formulaire HTML #}
            {{ form_end(form) }}

        </div>
    </div>


<script type="text/javascript">

    $(function() {

        $('.date').datetimepicker({
            format: 'DD/MM/YYYY',
            defaultDate: new Date(),
        });
        
    });
</script>
{% endblock %}